" ==============================
" VSCodeVim Configuration
" ==============================

" ---------------------
" General Editor Settings
" ---------------------
" Number of context lines above/below cursor
set scrolloff=8

" Use visual bell instead of audible beep
set visualbell

" Case-insensitive search unless uppercase is used
set ignorecase
set smartcase

" Incremental search and highlight matches
set incsearch
set hlsearch

" Timeout for mapped key sequences (in milliseconds)
set timeoutlen=400

" Allow cursor to wrap at line ends with arrow keys or h/l
set whichwrap+=<,>,h,l,[,]

" Indentation & Folding
set autoindent
set foldmethod=indent
" Use za to toggle folds, zR to open all folds

" ---------------------
" Plugins / Extensions
" ---------------------
" Vim Sneak streak
let g:sneak#streak = 1

" ---------------------
" Leader Keys
" ---------------------
" let mapleader = "\<space>"
" let maplocalleader = "\<space>"

" ==============================
" Line Movement (Move Lines Up/Down)
" Works in both Normal and Visual modes
" ==============================
nnoremap <C-j> editor.action.moveLinesDownAction
nnoremap <C-k> editor.action.moveLinesUpAction
vnoremap <C-j> editor.action.moveLinesDownAction
vnoremap <C-k> editor.action.moveLinesUpAction

" ==============================
" Replace Selection Without Yanking
" ==============================
vnoremap <leader>p "_dP
" Replace visual selection with default register content without overwriting it

" ==============================
" Search Highlight & Redraw
" ==============================
nnoremap <C-L> :nohl<CR><C-L>
nnoremap n nzzzv
nnoremap N Nzzzv

" ==============================
" Action Markers
" ==============================
nnoremap [d editor.action.marker.prev
nnoremap ]d editor.action.marker.next

" ==============================
" Search / Telescope-style Navigation
" ==============================
nnoremap <leader>ff workbench.action.quickOpen
nnoremap <leader>fr workbench.action.openRecent
nnoremap <leader>sg workbench.action.findInFiles
nnoremap <leader>/ actions.find
nnoremap g/ workbench.action.quickTextSearch
nnoremap <leader>e workbench.action.problems.focus

" ==============================
" LSP / Language Features (Zed-style mappings)
" ==============================
" ---- Go To / Peek ----
nnoremap gd editor.action.revealDefinition
nnoremap gD editor.action.peekDeclaration
nnoremap gy editor.action.goToTypeDefinition
nnoremap gI editor.action.goToImplementation
nnoremap gA editor.action.goToReferences
nnoremap gs workbench.action.gotoSymbol
nnoremap gS workbench.action.showAllSymbols

" ---- Diagnostics ----
nnoremap ]d editor.action.marker.next
nnoremap [d editor.action.marker.prev

" ---- Hover / Code Actions ----
nnoremap gh editor.action.showHover
nnoremap g. editor.action.quickFix

" ---- Rename / Format ----
nnoremap cd editor.action.rename
nnoremap <leader>fd editor.action.formatDocument
vnoremap <leader>fd editor.action.formatDocument

" ==============================
" Multi-Cursor / Find & Select (Zed-style)
" ==============================
" Add a cursor selecting the next copy of the current word
nnoremap gl editor.action.addSelectionToNextFindMatch
vnoremap gl editor.action.addSelectionToNextFindMatch

" Add a cursor selecting the previous copy of the current word
nnoremap gL editor.action.addSelectionToPreviousFindMatch
vnoremap gL editor.action.addSelectionToPreviousFindMatch

" Skip latest word selection, and add next
vnoremap g> editor.action.moveSelectionToNextFindMatch

" Skip latest word selection, and add previous
vnoremap g< editor.action.moveSelectionToPreviousFindMatch

" Add a visual selection for every copy of the current word
vnoremap ga editor.action.selectHighlights


" ==============================
" Treesitter / Smart Select
" ==============================
nnoremap [x editor.action.smartSelect.expand
xnoremap [x editor.action.smartSelect.expand
xnoremap ]x editor.action.smartSelect.shrink

