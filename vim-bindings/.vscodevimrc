" ==============================
" VSCodeVim Configuration
" ==============================

" ---------------------
" General Editor Settings
" ---------------------
" Number of context lines above/below cursor
set scrolloff=8

" Use visual bell instead of audible beep
set visualbell

" Case-insensitive search unless uppercase is used
set ignorecase
set smartcase

" Incremental search and highlight matches
set incsearch
set hlsearch

" Timeout for mapped key sequences (in milliseconds)
set timeoutlen=400

" Allow cursor to wrap at line ends with arrow keys or h/l
set whichwrap+=<,>,h,l,[,]

" Indentation & Folding
set autoindent             " Auto-indent new lines
set foldmethod=indent      " Folding based on indentation
" Use za to toggle folds, zR to open all folds

" ---------------------
" Plugins / Extensions
" ---------------------
" Vim Sneak streak
let g:sneak#streak = 1

" ---------------------
" Leader Keys
" ---------------------
" let mapleader = "\<space>"
" let maplocalleader = "\<space>"

" ==============================
" Line Movement (Move Lines Up/Down)
" Works in both Normal and Visual modes
" ==============================
nnoremap <C-j> editor.action.moveLinesDownAction   " Move current line down
nnoremap <C-k> editor.action.moveLinesUpAction     " Move current line up
vnoremap <C-j> editor.action.moveLinesDownAction   " Move selected lines down
vnoremap <C-k> editor.action.moveLinesUpAction     " Move selected lines up

" ==============================
" Replace Selection Without Yanking
" ==============================
xnoremap <leader>p "_dP
" Replace visual selection with default register content without overwriting it

" ==============================
" Search Highlight & Redraw
" ==============================
nnoremap <C-L> :nohl<CR><C-L>  " Clear search highlight and redraw
nnoremap n nzzzv               " Center cursor after search next
nnoremap N Nzzzv               " Center cursor after search previous

" ==============================
" Action Markers
" ==============================
nnoremap [d editor.action.marker.prev  " Go to previous action marker
nnoremap ]d editor.action.marker.next  " Go to next action marker

" ==============================
" Search / Telescope-style Navigation
" ==============================
nnoremap <leader>ff workbench.action.quickOpen        " Fuzzy find files
nnoremap <leader>fr workbench.action.openRecent       " Recent files
nnoremap <leader>sg workbench.action.findInFiles      " Search text in files
nnoremap <leader>/ actions.find                       " Find command
nnoremap g/ workbench.action.quickTextSearch          " Quick text search
nnoremap <leader>e workbench.action.problems.focus    " Show problems

" ==============================
" LSP / Language Features (Zed-style mappings)
" ==============================
" ---- Go To / Peek ----
nnoremap gd editor.action.revealDefinition          " Go to definition
nnoremap gD editor.action.peekDeclaration           " Go to declaration (peek)
nnoremap gy editor.action.goToTypeDefinition        " Go to type definition
nnoremap gI editor.action.goToImplementation        " Go to implementation
nnoremap gA editor.action.goToReferences            " Go to all references
nnoremap gs workbench.action.gotoSymbol             " Find symbol in current file
nnoremap gS workbench.action.showAllSymbols         " Find symbol in entire project

" ---- Diagnostics ----
nnoremap ]d editor.action.marker.next               " Go to next diagnostic
nnoremap [d editor.action.marker.prev               " Go to previous diagnostic

" ---- Hover / Code Actions ----
nnoremap gh editor.action.showHover                 " Show inline error / hover info
nnoremap g. editor.action.quickFix                  " Open code actions menu

" ---- Rename / Format ----
nnoremap cd editor.action.rename                    " Rename symbol
nnoremap <leader>fd editor.action.formatDocument     " Format document
vnoremap <leader>fd editor.action.formatDocument     " Format selection in visual mode

" ==============================
" Multi-Cursor / Find & Select (Zed-style)
" ==============================
" Add a cursor selecting the next copy of the current word
nnoremap gl editor.action.addSelectionToNextFindMatch
vnoremap gl editor.action.addSelectionToNextFindMatch

" Add a cursor selecting the previous copy of the current word
nnoremap gL editor.action.addSelectionToPreviousFindMatch
vnoremap gL editor.action.addSelectionToPreviousFindMatch

" Skip latest word selection, and add next
vnoremap g> editor.action.moveSelectionToNextFindMatch

" Skip latest word selection, and add previous
vnoremap g< editor.action.moveSelectionToPreviousFindMatch

" Add a visual selection for every copy of the current word
vnoremap ga editor.action.selectHighlights


" ==============================
" Treesitter / Smart Select
" ==============================
nnoremap [x editor.action.smartSelect.expand     " Expand selection
xnoremap [x editor.action.smartSelect.expand     " Expand selection (visual mode)
xnoremap ]x editor.action.smartSelect.shrink     " Shrink selection (visual mode)

